(this["webpackJsonptodo-list-in-browser"]=this["webpackJsonptodo-list-in-browser"]||[]).push([[0],{10:function(e,t,n){e.exports=n(17)},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(3),c=n.n(r),o=n(5),i=n(1),u=n(0),l=n.n(u),s=n(8),m=n(7),d=n.n(m);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(16);var f,w,p=window.document.title,v=null!==(f=window.localStorage.getItem("text"))&&void 0!==f?f:"",h=JSON.parse(null!==(w=window.localStorage.getItem("completed_items"))&&void 0!==w?w:"[]"),g=function(){var e=l.a.useState(),t=Object(i.a)(e,2),n=t[0],r=t[1],u=l.a.useState(v),m=Object(i.a)(u,2),d=m[0],f=m[1],w=l.a.useState(h),g=Object(i.a)(w,2),b=g[0],E=g[1],k=l.a.useState(!0),y=Object(i.a)(k,2),x=y[0],S=y[1],I=l.a.useState(!1),O=Object(i.a)(I,2),j=O[0],C=O[1],M=l.a.useRef(),J=l.a.useCallback(Object(o.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.localStorage.setItem("text",d),window.localStorage.setItem("completed_items",JSON.stringify(b)),S(!0),t=n){e.next=9;break}return e.next=7,window.chooseFileSystemEntries({type:"save-file"});case 7:t=e.sent,r(t);case 9:return e.next=11,t.createWritable();case 11:return a=e.sent,e.next=14,a.write({type:"write",data:d});case 14:return e.next=16,a.close();case 16:case"end":return e.stop()}}),e)}))),[d,b,n]);l.a.useEffect((function(){var e=M.current,t=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.ctrlKey&&!0!==t.metaKey||"s"!==t.key){e.next=4;break}return t.preventDefault(),e.next=4,J();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e.addEventListener("keydown",t),function(){return e.removeEventListener("keydown",t)}}),[d,J]);var H=l.a.useRef(!0);l.a.useEffect((function(){H.current?H.current=!1:S(window.localStorage.getItem("text")===d)}),[d]),l.a.useEffect((function(){window.document.title=x?p:"* ".concat(p)}),[x]);var W=d.split("-").map((function(e,t){return{rawItem:e,item:e.replace(/(^[\n\s]+)|([\n\s]+$)/g,""),index:t}}));return l.a.createElement("div",null,l.a.createElement("nav",null,l.a.createElement("button",{onClick:J},"Save (^S)")," ",x?"":"(not saved)"," ",l.a.createElement("button",{onClick:function(){return C((function(e){return!e}))}},j?"Hide completed items":"Show completed items")),l.a.createElement("textarea",{ref:M,autoFocus:!0,value:d,onChange:function(e){return f(e.target.value)}}),l.a.createElement("ul",{id:"list"},W.filter((function(e){return e.item.length>0})).map((function(e){var t=e.item,n=e.rawItem,r=e.index;return l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",checked:!1,onChange:function(e){e.target.checked&&(E((function(e){return[].concat(Object(a.a)(e),[{rawItem:n,item:t,date:Object(s.a)(new Date,"yyyy-MM-dd HH:MM")}])})),f(W.filter((function(e,t){return t!==r})).map((function(e){return e.rawItem})).join("-")))}})," ",t)}))),j&&l.a.createElement("ul",{id:"completed"},0===b.length&&"Empty",b.map((function(e,t){var n=e.rawItem,a=(e.item,e.date);return l.a.createElement("li",null,l.a.createElement("input",{type:"checkbox",checked:!0,onChange:function(e){e.target.checked||(E((function(e){return e.filter((function(e,n){return n!==t}))})),f((function(e){return"".concat(e.replace(/\n$/,""),"\n-").concat(n)})))}})," ",n," (on ",a,")")}))))};d.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g,null)),window.document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.6d85f731.chunk.js.map